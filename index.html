<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="./assets/apple-touch-icon.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="./assets/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="./assets/favicon-16x16.png"
		/>
		<link rel="manifest" href="./assets/site.webmanifest" />
		<link rel="stylesheet" href="./css/main.css" />
		<title>Image Gallery</title>
		<style>
			.preloader {
				position: fixed;
				width: 100%;
				height: 100vh;
				background: #333;
				background-size: cover;
				background-repeat: no-repeat;
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
			}

			.preloader-done {
				display: none;
				opacity: 0;
				pointer-events: none;
			}

			.loader-title {
				text-align: center;
				color: #eee;
			}

			.counter {
				font-family: Montserrat, sans-serif;
				font-size: 5rem;
				font-weight: bold;
				text-align: center;
				color: #eee;
			}
		</style>
	</head>
	<body>
		<div id="preloader" class="preloader">
			<div class="loader"></div>
			<h1 class="loader-title">Loading...</h1>
			<p class="counter"></p>
		</div>
		<nav id="menu">
			<div class="logo">
				<img src="./assets/stork-user.png" alt="user" />
			</div>
			<ul>
				<li><a href="#slide-1" class="menu">Home</a></li>
				<li><a href="#slide-1" class="menu">About</a></li>
				<li><a href="#slide-1" class="menu">Get in touch</a></li>
			</ul>
		</nav>

		<header>
			<div class="header-container">
				<button id="menu-toggle" class="menu-toggle"></button>
				<h1>Image Gallery</h1>
				<p>
					Lorem ipsum dolor sit amet consectetur adipisicing elit.
					Necessitatibus pariatur est corrupti quasi, deserunt repellendus.
				</p>
			</div>
		</header>

		<main>
			<div class="slide-images">
				<svg
					class="slider__mask"
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					viewBox="0 0 1920 1080"
					width="0"
					height="0"
				>
					<defs>
						<!-- Slide 1 -->
						<pattern
							id="bg1"
							patternUnits="userSpaceOnUse"
							width="1920"
							height="1080"
							viewBox="0 0 1920 1080"
						>
							<image
								xlink:href="./assets/macro-1.jpg"
								width="100%"
								height="100%"
							/>
						</pattern>
						<pattern
							id="pattern1l"
							patternUnits="objectBoundingBox"
							x="0px"
							y="0px"
							width="100%"
							height="100%"
						>
							<image
								xlink:href="./assets/macro-2.jpg"
								width="600px"
								height="600px"
							/>
						</pattern>
						<pattern
							id="pattern1r"
							patternUnits="objectBoundingBox"
							x="365px"
							width="100%"
							height="100%"
						>
							<image
								xlink:href="./assets/macro-3.jpg"
								width="600px"
								height="600px"
							/>
						</pattern>

						<!-- Slide 2 -->
						<pattern
							id="bg2"
							patternUnits="userSpaceOnUse"
							width="1920"
							height="1080"
							viewBox="0 0 1920 1080"
						>
							<image
								xlink:href="./assets/macro-4.jpg"
								width="100%"
								height="100%"
							/>
						</pattern>
						<pattern
							id="pattern2l"
							patternUnits="objectBoundingBox"
							x="0px"
							y="0px"
							width="100%"
							height="100%"
						>
							<image
								xlink:href="./assets/macro-4.jpg"
								width="600px"
								height="600px"
							/>
						</pattern>
						<pattern
							id="pattern2r"
							patternUnits="objectBoundingBox"
							x="365px"
							width="100%"
							height="100%"
						>
							<image
								xlink:href="./assets/macro-5.jpg"
								width="600px"
								height="600px"
							/>
						</pattern>

						<!-- Slide 3 -->
						<!-- Slide 2 -->
						<pattern
							id="bg3"
							patternUnits="userSpaceOnUse"
							width="1920"
							height="1080"
							viewBox="0 0 1920 1080"
						>
							<image
								xlink:href="./assets/impala_1.jpg"
								width="100%"
								height="100%"
							/>
						</pattern>
						<pattern
							id="pattern3l"
							patternUnits="objectBoundingBox"
							x="0px"
							y="0px"
							width="100%"
							height="100%"
						>
							<image
								xlink:href="./assets/impala_2.jpg"
								width="600px"
								height="600px"
							/>
						</pattern>
						<pattern
							id="pattern3r"
							patternUnits="objectBoundingBox"
							x="365px"
							width="100%"
							height="100%"
						>
							<image
								xlink:href="./assets/impala_3.jpg"
								width="600px"
								height="600px"
							/>
						</pattern>
					</defs>
				</svg>
			</div>

			<div class="slide" id="slide">
				<svg
					class="slide__bg"
					viewBox="0 0 1920 1080"
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					x="0px"
					y="0px"
				>
					<rect
						id="slide-background"
						x="0"
						y="0"
						width="1920"
						height="1080"
						fill="url(#bg1)"
					/>
				</svg>

				<div class="slide__image">
					<svg
						viewBox="0 0 900 365"
						xmlns="http://www.w3.org/2000/svg"
						width="900"
						height="365"
					>
						<path
							class="slide__image-left"
							d="M0 0v365h351.238L562 0H0z"
							fill="url(#pattern1l)"
							cursor="pointer"
						/>
						<path
							class="slide__image-right"
							d="M900 365V0H548.762L338 365h562z"
							fill="url(#pattern1r)"
							cursor="pointer"
						/>
					</svg>
				</div>

				<div class="slider__pagination">
					<a href="#slide-1" class="button" id="slide-1">Slide 1</a>
					<a href="#slide-2" class="button" id="slide-2">Slide 2</a>
					<a href="#slide-3" class="button" id="slide-3">Slide 3</a>
				</div>
			</div>
		</main>
		<!-- Modal -->
		<div class="modal-container" id="modal">
			<div class="modal">
				<button id="modal-close-button" class="close-button">
					<svg
						xmlns="http://www.w3.org/2000/svg"
						height="24"
						viewBox="0 0 24 24"
						width="24"
					>
						<path
							d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
						/>
						<path d="M0 0h24v24H0z" fill="none" />
					</svg>
				</button>
				<div class="modal-content">
					<img
						id="modal-image"
						src="./assets/macro-3.jpg"
						alt="macro picture 1"
					/>
				</div>
			</div>
		</div>
		<script>
			document.onreadystatechange = function () {
				if (document.readyState !== "complete") {
					document.querySelector("body").style.visibility = "hidden";
					document.querySelector("#preloader").style.visibility = "visible";
					init();
				} else {
					document.querySelector("#preloader").style.display = "none";
					document.querySelector("body").style.visibility = "visible";
				}
			};
			function init() {
				const preloader = document.querySelector(".preloader");
				const counter = document.querySelector(".counter");
				let count = 0;
				let counterFunction = setInterval(() => {
					if (count <= 100) {
						counter.innerText = `${count}%`;
						count++;
					} else {
						clearInterval(counterFunction);
						fadeOut(preloader);
					}
				}, 100);
			}

			function fadeOut(element) {
				element.style.opacity = 1;

				(function fade() {
					if ((element.style.opacity -= 0.1) === 0) {
						element.style.display = "none";
					} else {
						requestAnimationFrame(fade);
					}
				})();
			}
		</script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.2.6/gsap.min.js"></script>
		<script src="./index.js"></script>
	</body>
</html>
